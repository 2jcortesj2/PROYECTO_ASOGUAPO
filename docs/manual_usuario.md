# Manual de Usuario - AguaLector üíß

## Introducci√≥n

AguaLector es una aplicaci√≥n m√≥vil dise√±ada para facilitar el registro de lecturas de contadores de agua potable en comunidades rurales.

---

## Requisitos

- Tel√©fono Android (versi√≥n 5.0 o superior)
- Permisos de C√°mara y Ubicaci√≥n concedidos (se solicitan al inicio)
- GPS activado
- No requiere internet

### Inicio de la Aplicaci√≥n
Al abrir AguaLector, ver√°s una **Pantalla de Inicio (Splash Screen)** durante unos segundos con el logo de Asoguapo mientras la aplicaci√≥n prepara todos los datos. Es normal que esto tome entre 2 y 3 segundos.

---

## Pantallas de la Aplicaci√≥n

### 1. Lista de Contadores

Al abrir la app ver√°s la lista de todos los contadores de tu zona.

**Indicadores de estado:**
- ‚ö™ Gris = Pendiente de lectura (Lectura mes anterior visible)
- ‚úÖ Verde = Lectura completada
- üü† Naranja = Error en el contador / lectura previa irregular

**Opciones de visualizaci√≥n:**
- **Filtro por Vereda:** Selecciona "El Recreo", "Pueblo Nuevo" o "El Tendido". La app recordar√° tu selecci√≥n.
- **Ocultar completados:** Activa el interruptor para ver solo los medidores que faltan por leer hoy.

**Para buscar:** Usa la barra de b√∫squeda para encontrar a un usuario por nombre.

**Para registrar:** Toca la tarjeta del usuario para iniciar el registro. 

Si el usuario ya tiene una lectura en el **periodo activo (√∫ltimos 15 d√≠as)**, se abrir√° un resumen donde podr√°s:
- **Corregir / Editar**: Si te equivocaste en el n√∫mero.
- **Eliminar Registro**: Si deseas borrar la lectura por completo.

> üí° **Nota sobre almacenamiento:** Para que tu tel√©fono no se llene de fotos, la aplicaci√≥n borrar√° autom√°ticamente las im√°genes de las lecturas que tengan m√°s de 15 d√≠as. Los datos num√©ricos se guardar√°n siempre en el historial, pero la foto se elimina para liberar espacio.

---

### 2. Registro de Lectura

**Pasos:**

1. **Ver c√°mara en vivo**: La c√°mara se activa autom√°ticamente al entrar a la pantalla.
2. **Apunta al contador**: Mant√©n el tel√©fono firme frente al contador de agua.
3. **Presiona el bot√≥n blanco**: Toca el c√≠rculo blanco grande para capturar la foto.
4. **Ingresa la lectura**: Escribe el n√∫mero actual en el campo blanco grande.
5. **Verifica el GPS**: Aseg√∫rate de ver las coordenadas en verde bajo la lectura.
6. **Toca "GUARDAR LECTURA"**: Guarda el registro completo.

> ‚ö†Ô∏è **Importante:** 
> - Si el GPS muestra error, toca el √≠cono de reintentar
> - La foto se guarda autom√°ticamente en tu dispositivo
> - Puedes volver a tomar la foto tocando el bot√≥n de refresh

**Sobre el GPS:**
La aplicaci√≥n intentar√° obtener tu ubicaci√≥n exacta durante 6 segundos.
- Si tarda m√°s de ese tiempo (ej: si est√°s en una zona muy rural o techada), el indicador se pondr√° **amarillo**.
- Esto significa que **PUEDES GUARDAR** la lectura aunque no tengas GPS activo. La prioridad es guardar el dato y la foto.

**¬øNo puedes leer el contador?**
Si el contador est√° rayado, tapado, es ilegible o no puedes acceder a √©l:
1. Toca la opci√≥n discreta que dice **"¬øNo se puede leer el contador?"** bajo el campo de lectura.
2. Explica el motivo en la ventana que aparece y pulsa **ACEPTAR**.
3. Ver√°s que el campo de lectura se pone en **gris** (bloqueado) para indicar que no se guardar√° n√∫mero.
4. **Toma la foto**: Es **OBLIGATORIO** tomar una foto para dejar constancia.
5. Toca **"GUARDAR LECTURA"**.

---

### 3. Confirmaci√≥n

Despu√©s de guardar ver√°s:
- ‚úÖ Mensaje de √©xito
- Miniatura de la foto
- Lectura guardada
- Fecha y Hora (separadas para mayor claridad)
- Ubicaci√≥n GPS

**Opciones:**
- "Volver a la Lista" ‚Üí Regresa a la lista principal manteniendo la vereda seleccionada.

---

### 4. Historial

Accede desde el bot√≥n flotante (√≠cono de descarga) en la lista principal.

**Funciones:**
- Ver todas las lecturas con su **foto real**.
- **Filtros por Vereda:** Filtra r√°pidamente para ver solo "Pueblo Nuevo", "El Recreo" o "El Tendido".
- **Exportaci√≥n Inteligente:** Genera archivos CSV con el c√≥digo de la vereda en el nombre (ej: LECTURAS_PUE_...csv).

**Para exportar:**
1. Selecciona la vereda espec√≠fica que deseas exportar (ej: El Recreo).
2. Toca "EXPORTAR DATOS" y elige una de las 3 opciones:
    - **Solo reporte CSV**: Descarga solo la tabla de datos.
    - **Solo fotos (ZIP)**: Descarga solo las im√°genes capturadas.
    - **Exportar TODO**: Descarga ambos archivos para un reporte completo.
3. Comparte los archivos por WhatsApp u otro medio.

---

## Soluci√≥n de Problemas

| App no abre          | Verifica los permisos de C√°mara y GPS al inicio |
| GPS no funciona      | Activa ubicaci√≥n en ajustes del tel√©fono        |
| Foto borrosa         | Limpia la c√°mara y mant√©n el tel√©fono firme     |
| No guarda            | Verifica que el campo de lectura no est√© vac√≠o  |
| App lenta (Gama baja) | Cierra otras aplicaciones                       |

---

## Consejos

- ‚òÄÔ∏è En d√≠as soleados, aumenta el brillo de la pantalla
- üì∑ Toma la foto de frente al contador
- üî¢ Verifica dos veces el n√∫mero antes de guardar
- üíæ Exporta los datos al final del d√≠a

---

## Contacto

Para soporte t√©cnico, contacta a tu administrador de junta local.
